<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Access Blocked</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    .blocked-container {
      background: white;
      border-radius: 24px;
      padding: 48px;
      max-width: 600px;
      text-align: center;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      animation: slideIn 0.5s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .blocked-icon {
      font-size: 120px;
      margin-bottom: 24px;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.1);
      }
    }

    .blocked-title {
      font-size: 36px;
      font-weight: 700;
      color: #DC2626;
      margin-bottom: 16px;
    }

    .blocked-message {
      font-size: 18px;
      color: #4B5563;
      margin-bottom: 32px;
      line-height: 1.6;
    }

    .countdown-container {
      background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%);
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 32px;
    }

    .countdown-label {
      font-size: 14px;
      font-weight: 600;
      color: #92400E;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .countdown-time {
      font-size: 48px;
      font-weight: 700;
      color: #B45309;
      font-variant-numeric: tabular-nums;
    }

    .blocked-explanation {
      background: #F3F4F6;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 24px;
      text-align: left;
    }

    .blocked-explanation h3 {
      font-size: 16px;
      font-weight: 600;
      color: #1F2937;
      margin: 0 0 12px 0;
    }

    .blocked-explanation p {
      font-size: 14px;
      color: #6B7280;
      margin: 0;
      line-height: 1.6;
    }

    .blocked-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
    }

    .btn {
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      transition: all 0.2s;
    }

    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .btn-secondary {
      background: white;
      color: #667eea;
      border: 2px solid #667eea;
    }

    .btn-secondary:hover {
      background: #F3F4F6;
    }
  </style>
</head>
<body>
  <div class="blocked-container">
    <div class="blocked-icon">‚õî</div>
    <div class="blocked-title">AI Access Blocked</div>
    <div class="blocked-message">
      You've triggered too many red light violations. AI tools are temporarily blocked to encourage responsible usage.
    </div>

    <div class="countdown-container">
      <div class="countdown-label">Time Remaining</div>
      <div class="countdown-time" id="countdown">--:--</div>
    </div>

    <div class="blocked-explanation">
      <h3>üö¶ Why was I blocked?</h3>
      <p>
        You attempted to use AI tools on academic platforms (like grading systems or assignment submissions) 
        multiple times. This extension helps ensure AI is used appropriately for learning, not for submitting 
        AI-generated work as your own.
      </p>
    </div>

    <div class="blocked-actions">
      <button class="btn btn-secondary" onclick="window.history.back()">
        ‚Üê Go Back
      </button>
      <button class="btn btn-primary" onclick="chrome.runtime.openOptionsPage()">
        ‚öôÔ∏è Settings
      </button>
    </div>
  </div>

  <script>
    // Update countdown timer
    async function updateCountdown() {
      try {
        const response = await chrome.runtime.sendMessage({ type: 'GET_SNOOZE_STATUS' });
        
        if (response.isSnoozing && response.snoozeEndTime) {
          const remaining = response.snoozeEndTime - Date.now();
          
          if (remaining > 0) {
            const minutes = Math.floor(remaining / 60000);
            const seconds = Math.floor((remaining % 60000) / 1000);
            document.getElementById('countdown').textContent = 
              `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
          } else {
            document.getElementById('countdown').textContent = '00:00';
            // Snooze ended, redirect back
            setTimeout(() => window.history.back(), 1000);
          }
        }
      } catch (error) {
        console.error('Error updating countdown:', error);
      }
    }

    // Update every second
    updateCountdown();
    setInterval(updateCountdown, 1000);
  </script>
</body>
</html>
